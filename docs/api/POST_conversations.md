# API: Create a Conversation

## Address
*POST /api/conversations*

## Description
The method is used to create a new conversation: the process responsible for identifying a specific user.

## Query example Query
Content with all possible fields used is the following JSON:

<!--
title: "Conversation parameters"
-->
```json
{
  "userKey": "7dfb9ded-c38f-49ae-95e2-307283a0b1f6",
  "returnUrl": "https://authologic.com/tests/return/?conversation={conversationId}",
  "callbackUrl": "https://system.acme.test/private/identity/{conversationId}/callback",
  "strategy": "public:default",
  "query": {
    "identity": {
      "requireOneOf": [
          [ "PERSON_NAME_FIRSTNAME", "PERSON_NAME_LASTNAME"]
      ],
      "optional": [
          {
              "list": [ "PERSON_NAME_FIRSTNAME", "PERSON_NAME_LASTNAME"]
          }
      ]
    },
    "aml": {
      "checks": ["PEP", "SANCTIONS", "ADVERSE_MEDIA", "SIP", "OTHER"],
      "subscription": {}
    },
    "verify": {
      "user": {
          "company": {
            "name": {
              "name": "ACME Inc."
            },
            "ids": {
              "taxId": "1234567890",
              "additionalId": "0987654321"
            },
            "address": {
              "text": "ul. Wiśniowa 133/20 00-950 Warszawa PL",
              "addressLine": "ul. Wiśniowa 133/20",
              "postalCode": "00-950",
              "city": "Warszawa",
              "country": "PL"
            },
            "contact": {
              "email": "jan.kowalski@email.com",
              "phone": "+48692887345"
            }
          },
          "person": {
            "name": {
              "firstName": "Jan",
              "lastName": "Kowalski",
              "middleName": "Stanisław",
              "middleInitial": "S",
              "fullName": "Jan Stanisław Kowalski"
            },
            "ids": {
              "nationalId": "73121243192",
              "idCard": {
                "id": "ABC 12343",
                "issueDate": "2020-11-13",
                "expiryDate": "2020-11-13",
                "issueCountry": "PL",
                "issuer": "Prezydent m.st. Warszawy"
              },
              "passport": {
                "id": "AD 24243423",
                "issueDate": "2020-11-13",
                "expiryDate": "2020-11-13",
                "issueCountry": "PL",
                "issuer": "Wojewoda Mazowiecki"
              },
              "driverLicence": {
                "id": "AA 12343454",
                "issueDate": "2020-11-13",
                "expiryDate": "2020-11-13",
                "issueCountry": "PL",
                "issuer": "Prezydent m.st. Warszawy"
              },
              "residencePermit": {
                "id": "ZZ 12343454",
                "issueDate": "2020-11-13",
                "expiryDate": "2023-11-13",
                "issueCountry": "PL",
                "issuer": "Wojewoda Mazowiecki"
              },
              "otherDocument": {
                "id": "AA 12343454",
                "description": "Document ID",
                "issueDate": "2022-05-30",
                "expiryDate": "2022-05-30",
                "issueCountry": "GB",
                "issuer": "City of London"
              },
              "accounts": [
                {
                  "swiftbic": "BREXPLPW",
                  "accountId": "PL27114020040000300201355387",
                  "currency": "PLN"
                }
              ]
            },
            "info": {
              "gender": "MALE",
              "nationality": "PL",
              "birthDate": "2020-11-13",
              "birthCity": "Gdańsk",
              "birthCountry": "PL"
            },
            "address": {
              "text": "ul. Wiśniowa 133/20 00-950 Warszawa PL",
              "addressLine": "ul. Wiśniowa 133/20",
              "postalCode": "00-950",
              "city": "Warszawa"
            },
            "contact": {
              "email": "jan.kowalski@email.com",
              "phone": "+48692887345"
            }
          }
       }
    },
    "auth": {
        "challenge": "3cf1dc77-d8fe-4e2d-a5b4-f4dc5043c16b"
    },
    "bankTransactions": {
        "type": "ALL",
        "flags": [ "INCLUDE_SCHEDULED", "INCLUDE_TAGS" ]
    }
  },
  "hints": {
    "userType": "PERSON",
    "known": {
      "company": {
        "name": {
          "name": "ACME Inc."
        },
        "ids": {
          "taxId": "1234567890",
          "additionalId": "0987654321"
        },
        "address": {
          "text": "ul. Wiśniowa 133/20 00-950 Warszawa PL",
          "addressLine": "ul. Wiśniowa 133/20",
          "postalCode": "00-950",
          "city": "Warszawa"
        },
        "contact": {
          "email": "jan.kowalski@email.com",
          "phone": "+48692887345"
        }
      },
      "person": {
        "name": {
          "firstName": "Jan",
          "lastName": "Kowalski",
          "middleName": "Stanisław",
          "middleInitial": "S",
          "fullName": "Jan Stanisław Kowalski"
        },
        "ids": {
          "nationalId": "73121243192",
          "idCard": {
            "id": "ABC 12343",
            "issueDate": "2020-11-13",
            "expiryDate": "2020-11-13",
            "issueCountry": "PL",
            "issuer": "Prezydent m.st. Warszawy"
          },
          "passport": {
            "id": "AD 24243423",
            "issueDate": "2020-11-13",
            "expiryDate": "2020-11-13",
            "issueCountry": "PL",
            "issuer": "Wojewoda Mazowiecki"
          },
          "driverLicence": {
            "id": "AA 12343454",
            "issueDate": "2020-11-13",
            "expiryDate": "2020-11-13",
            "issueCountry": "PL",
            "issuer": "Prezydent m.st. Warszawy"
          },
          "residencePermit":{
            "id": "ZZ 12343454",
            "issueDate": "2021-11-13",
            "expiryDate": "2023-11-13",
            "issueCountry": "PL",
            "issuer": "Wojewoda Mazowiecki"
          },
          "otherDocument": {
            "id": "AA 12343454",
            "description": "Document ID",
            "issueDate": "2022-05-30",
            "expiryDate": "2022-05-30",
            "issueCountry": "GB",
            "issuer": "City of London"
          },
          "accounts": [
            {
              "swiftbic": "BREXPLPW",
              "accountId": "PL27114020040000300201355387",
              "currency": "PLN"
            }
          ]
        },
        "info": {
          "gender": "MALE",
          "nationality": "PL",
          "birthDate": "2020-11-13",
          "birthCity": "Gdańsk",
          "birthCountry": "PL"
        },
        "address": {
          "text": "ul. Wiśniowa 133/20 00-950 Warszawa PL",
          "addressLine": "ul. Wiśniowa 133/20",
          "postalCode": "00-950",
          "city": "Warszawa"
        },
        "contact": {
          "email": "jan.kowalski@email.com",
          "phone": "+48692887345"
        }
      }
    },
    "uncertain": {
      "company": {
        "name": {
          "name": "ACME Inc."
        },
        "ids": {
          "taxId": "1234567890",
          "additionalId": "0987654321"
        },
        "address": {
          "text": "ul. Wiśniowa 133/20 00-950 Warszawa PL",
          "addressLine": "ul. Wiśniowa 133/20",
          "postalCode": "00-950",
          "city": "Warszawa"
        },
        "contact": {
          "email": "jan.kowalski@email.com",
          "phone": "+48692887345"
        }
      },
      "person": {
        "name": {
          "firstName": "Jan",
          "lastName": "Kowalski",
          "middleInitial": "S",
          "fullName": "Jan Stanisław Kowalski"
        },
        "ids": {
          "nationalId": "73121243192",
          "accounts": [
            {
              "swiftbic": "BREXPLPW",
              "accountId": "PL27114020040000300201355387",
              "currency": "PLN"
            }
          ]
        },
        "address": {
          "text": "ul. Wiśniowa 133/20 00-950 Warszawa PL",
          "addressLine": "ul. Wiśniowa 133/20",
          "postalCode": "00-950",
          "city": "Warszawa"
        },
        "contact": {
          "email": "jan.kowalski@email.com",
          "phone": "+48692887345"
        }
      }
    }
  }
}
```

## Query parameter description

<!-- theme: warning -->
> #### WARNING
>
> The conversation creation API does not have any mandatory fields. This is because your account
> may have default values for all fields configured. Thanks to this, possible changes in the requirements are not
> connected with your code.

| Parameter                                           | Required | Example                                                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|-----------------------------------------------------|----------|---------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| userKey                                             |          | 7dfb9ded-c38f-49ae-95e2-307283a0b1f6                                | Customer ID on your system. If no value is given, it will be generated automatically.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| returnUrl                                           |          | https://authologic.com/tests/return/?conversation={conversationId}  | The address in your system to which the user will come back after finishing the conversation. The optional string `{conversationId}` will be replaced with the conversation ID. If not specified, leads to the default page.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| callbackUrl                                         |          | https://system.acme.test/callback/{conversationId}/{target}/{event} | The address to which Authologic will send information about events related to the conversation, in particular, it will send the data collected in the verification process. These data will be sent using the `POST` method. The optional string `{conversationId}` will be replaced with the conversation ID. `{target}` and `{event}` parameters will be replaced with information about the object that is the source of the event and the type of event. If the address is not defined, it is assumed to be the only way obtaining the result of the conversation is an API query: `GET /api/conversations/{conversationId}` described below. No definition of the `callbackUrl` address may mean that some events will not be handled. For more details on this mechanism, see [here](../callback.md). |
| strategy                                            |          | public: default                                                     | Identity check strategy. In principle, the default value should always be sufficient.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| query                                               |          | -                                                                   | Structure containing information that should be specified. The default value is set on the Authologic side, if not defined, failure to provide this field will result in an error creating the conversation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| query.identity                                      |          | -                                                                   | Structure containing the query for identity verification. The default value is set on the Authologic side, if not defined, failure to provide this field will result in an error creating the conversation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| query.identity.requireOneOf                         |          | ["PERSON_NAME_FIRSTNAME", "PERSON_NAME_LASTNAME"]                   | List of mandatory information. The system will try to return the values defined in any of this fieldset. The following values are available: include::_userInfoFields_.adoc[] You should *always* only use the necessary values due to process optimization and GDPR legal requirements. The default value is set on the Authologic side, if not defined, failure to provide this field will result in an error creating the conversation.                                                                                                                                                                                                                                                                                                                                                                  |
| query.identity.optional                             |          | [ { "list": [ "PERSON_NAME_FIRSTNAME", "PERSON_NAME_LASTNAME" ]  }] | List of optional information. The system will only return this information if it has obtained it together with the mandatory information. Available values identical to the field `query.identity.requireOneOf` You should * always * use only the necessary values due to process optimization and legal requirements related to GDPR.                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| query.aml                                           |          | -                                                                   | Structure containing the order to check the user on AML lists                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| query.aml.checks                                    |          | ["PEP", "SANCTIONS", "ADVERSE_MEDIA", "SIP", "OTHER"]               | A table that defines which AML lists the user should be checked on                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| query.aml.subscription                              |          | {}                                                                  | Object defining the order of the periodic checking of AML lists and informing about any changes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| query.verify                                        |          | -                                                                   | Structure containing the request to compare the data with the data received during the verification process                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| query.verify.user                                   |          | see example above.                                                  | User information to be used for comparison with verification data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| query.auth                                          |          | -                                                                   | A structure informing that user authentication should be performed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| query.auth.challenge                                |          | -                                                                   | Equivalent to a user login, only required for authentication methods that cannot themselves determine who is authenticating.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| query.bankTransactions                              |          | -                                                                   | Structure containing the query for the list of transactions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| query.bankTransactions.type                         |          | ALL                                                                 | Types of transactions to download. The following values are available: `CREDI` - account credit, `DEBIT` - account debit, `ALL` - all transactions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| query.bankTransactions.flags                        |          | ["INCLUDE_SCHEDULED", "INCLUDE_TAGS"]                               | Additional information that specifies what will be taken from the bank or determined by Authologic: `INCLUDE_SCHEDULED` - also gets scheduled transactions, `INCLUDE_TAGS` - also returns information about the types of expense or impact on the account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints                                               |          | -                                                                   | Structure specifying additional information to optimize or configure the query                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| hints.userType                                      |          | PERSONNEL                                                           | Information about the type of checked user. Available values: `PERSON` - private person, `COMPANY` - company                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.known                                         |          | see example above.                                                  | Information about the user that you are sure of. In some cases, they can help the algorithm analyze borderline cases, document scanning problems, etc. The example depends on the specific implementation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.known.company                                 |          | -                                                                   | Contains company-related information if the current user is a legal entity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.company.name                            |          | -                                                                   | It contains information related to the identification of the company if the current user is a legal entity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.company.name.name                       |          | ACME Inc.                                                           | Company name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.company.ids                             |          | -                                                                   | Contains company-related identifiers if the current user is a legal entity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.company.ids.taxId                       |          | 1234567890                                                          | Tax identification number (in Poland: NIP) of the company                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.company.ids.additionalId                |          | 0987654321                                                          | Alternative identification number of the company (e.g. in Poland: REGON)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| hints.known.company.address                         |          | -                                                                   | User address                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.company.address.text                    |          | ul. Wiśniowa 133/20 00-950 Warsaw PL                                | The user's full address, not broken down into components. **Note:** This field has no format defined.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| hints.known.company.address.addressLine             |          | ul. Wiśniowa 133/20                                                 | User address                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.company.address.postalCode              |          | 00-950                                                              | Postal code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.company.address.city                    |          | Warsaw                                                              | City                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.company.contact                         |          | -                                                                   | User contact details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.company.contact.email                   |          | jan.kowalski@email.com                                              | User email address                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| hints.known.company.contact.phone                   |          | +48692887345                                                        | User phone                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.known.person                                  |          | -                                                                   | Contains user-related information if the current user is a natural person                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.person.name.firstName                   |          | Jan                                                                 | User name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.person.name.lastName                    |          | Kowalski                                                            | User name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.person.name.middleName                  |          | Stanisław                                                           | User middle name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| hints.known.person.name.middleInitial               |          | S                                                                   | Middle initial                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| hints.known.person.name.fullName                    |          | Jan Stanisław Kowalski                                              | Username's full name (available for specific verification methods where the username is given as one string)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.person.ids                              |          | -                                                                   | Contains identifiers associated with the user if the current user is a natural person.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| hints.known.person.ids.nationalId                   |          | 73121243192                                                         | User ID (in Poland: PESEL)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.known.person.ids.idCard                       |          | -                                                                   | Contains information about the user's ID card.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| hints.known.person.ids.idCard.id                    |          | ABC 12343                                                           | ID number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.person.ids.idCard.type                  |          | Aadhaar                                                             | Detailed type of ID document, indicating the local type of document.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.ids.idCard.issueDate             |          | 2010-08-27                                                          | Date of issue of the identity card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| hints.known.person.ids.idCard.expiryDate            |          | 2020-08-27                                                          | Expiry date of the identity card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| hints.known.person.ids.idCard.issueCountry          |          | PL                                                                  | Country of issue of the identity card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| hints.known.person.ids.idCard.issuer                |          | Prezydent m.st. Warszawy                                            | Authority issuing the identity card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| hints.known.person.ids.passport                     |          | -                                                                   | Contains information about the user's passport.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| hints.known.person.ids.passport.id                  |          | AD 24243423                                                         | Passport number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| hints.known.person.ids.passport.issueDate           |          | 2010-08-27                                                          | Date of issue of the passport                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| hints.known.person.ids.passport.expiryDate          |          | 2020-08-27                                                          | Passport expiry date                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.ids.passport.issueCountry        |          | PL                                                                  | Country of passport issue                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.person.ids.passport.issuer              |          | Wojewoda Mazowiecki                                                 | Authority issuing the passport                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| hints.known.person.ids.driverLicence                |          | -                                                                   | Contains information about the user's driving license document.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| hints.known.person.ids.driverLicence.id             |          | AA 12343454                                                         | Driving license number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| hints.known.person.ids.driverLicence.issueDate      |          | 2010-08-27                                                          | Date of issue of the driving license                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.ids.driverLicence.expiryDate     |          | 2020-08-27                                                          | Driving license expiry date                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.person.ids.driverLicence.issueCountry   |          | PL                                                                  | Driving license country of issue                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| hints.known.person.ids.driverLicence.issuer         |          | Prezydent m.st. Warszawy                                            | Authority issuing the driving licence                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| hints.known.person.ids.residencePermit.id           |          | ZZ 24243423                                                         | Residence card number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| hints.known.person.ids.residencePermit.issueDate    |          | 2010-08-27                                                          | Date of issue of the residence card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| hints.known.person.ids.residencePermit.expiryDate   |          | 2020-08-27                                                          | Residence card expiry date                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.known.person.ids.residencePermit.issueCountry |          | PL                                                                  | Country of issue of the residence card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| hints.known.person.ids.residencePermit.issuer       |          | Wojewoda Mazowiecki                                                 | Authority issuing the residence card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.ids.otherDocument                |          | -                                                                   | It contains information about another document that proves the user's identity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| hints.known.person.ids.otherDocument.id             |          | AA 12343454                                                         | Number of the document                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| hints.known.person.ids.otherDocument.description    |          | Document ID                                                         | Description of the type of document                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| hints.known.person.ids.otherDocument.issueDate      |          | 2010-08-27                                                          | Date of issue of the document                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| hints.known.person.ids.otherDocument.expiryDate     |          | 2020-08-27                                                          | Document expiry date                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.ids.otherDocument.issueCountry   |          | GB                                                                  | Document issue country                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| hints.known.person.ids.otherDocument.issuer         |          | City of London                                                      | Authority issuing the document                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| hints.known.person.ids.accounts                     |          | -                                                                   | User account list                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| hints.known.person.ids.accounts.swiftbic            |          | BREXPLPW                                                            | Bank's SWIFT / BIC code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `DEPRECATED` hints.known.person.ids.accounts.iban   |          | PL27114020040000300201355387                                        | User account IBAN number (The parameter has been deprecated. Use `accountId` parameter.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| hints.known.person.ids.accounts.accountId           |          | PL27114020040000300201355387                                        | User account identification number, e.g. `IBAN`, `CLABE` (for Mexico), etc.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.person.ids.accounts.currency            |          | PLN                                                                 | Account currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| hints.known.person.info                             |          | -                                                                   | Contains additional information about the user.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| hints.known.person.info.gender                      |          | MALE                                                                | User gender (`MALE` / `FEMALE` / `OTHER`).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.info.nationality                 |          | PL                                                                  | The user's nationality (two-letter country code).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| hints.known.person.info.birthDate                   |          | 1983-07-03                                                          | The user's date of birth.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| hints.known.person.info.birthCity                   |          | -                                                                   | The user's place of birth.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.known.person.info.birthCountry                |          | -                                                                   | The user's country of birth.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.person.address                          |          | -                                                                   | User address                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.person.address.text                     |          | ul. Wiśniowa 133/20 00-950 Warsaw PL                                | The user's full address, not broken down into components. **Note:** This field has no format defined.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| hints.known.person.address.addressLine              |          | ul. Wiśniowa 133/20                                                 | User address                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| hints.known.person.address.postalCode               |          | 00-950                                                              | Postal code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| hints.known.person.address.city                     |          | Warsaw                                                              | City                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.address.country                  |          | PL                                                                  | Country                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| hints.known.person.contact                          |          | -                                                                   | User contact details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hints.known.person.contact.email                    |          | jan.kowalski@email.com                                              | User email address                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| hints.known.person.contact.phone                    |          | +48692887345                                                        | User phone                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| hints.uncertain                                     |          | see example above.                                                  | Uncertain information about the user (e.g. information provided by a user on your site). In some cases, they can help the algorithm to analyze borderline cases, document scanning problems, etc. The example depends on the specific implementation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| settings                                            |          | { "countryCode": "PL" }                                             | Optional map of additional strategy parameters. Available parameters are described on the page of a given strategy.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

## Response example

<!--
title: "Example of the response with conversation status"
-->
```json
{
    "id":"e0c0b3cc-8238-414f-9940-9f14bd1b8693",
    "userKey":"d5dbb8e0-192e-4bc6-972c-f7948409d10c",
    "url":"https://sandbox.authologic.com/c/c12c1adc-3ff0-4d32-b95c-c593135c903e",
    "status":"FINISHED",
    "result":{
        "identity":{
            "status":"FINISHED",
            "user":{
                "person":{
                    "name":{
                        "firstName":"Jan",
                        "lastName":"Smith"
                    }
                }
            },
            "checks": [
                {
                    "name": "CONSISTENCY_CHECK",
                    "result": "FAILED",
                    "details": {
                        "field": "PERSON_IDS_NATIONAL_ID",
                        "reason": "FORMAT_ERROR"
                    }
                }
            ]
        },
        "aml": {
            "status":"FINISHED",
            "found": ["PEP", "SANCTIONS", "ADVERSE_MEDIA", "SIP", "OTHER"],
            "subscription": {
                "active": true,
                "lastChanged": "2020-09-17T11:18:21.999Z"
            }
        },
        "verify": {
            "status":"FINISHED",
            "reliability": 0.6666666666666667,
            "details": [
                {
                    "field": "PERSON_NAME_FIRSTNAME",
                    "reliability": 0.6666666666666667
                },
                {
                    "field": "PERSON_NAME_LASTNAME",
                    "reliability": 1
                }
            ]
        },
        "bankTransactions":{
            "status":"FINISHED"
        },
        "auth": {
            "status": "FINISHED",
            "token": "d42115b0-58d3-4e9b-b970-12ca7de181c7",
            "challenge": "1e03cd33-484e-49f4-b8e1-b8d273f8e8af"
        }
    },
    "info": [
        {
            "country": "PL",
            "method": "PSD2"
        }
    ]
}
```
## Description of the response content The answer
After creating a conversation contains mainly the conversation identifier, and its structure
is identical to the answer to the conversation status question:

| Parameter | Example                                                                       | Description                                                                                                                                                                                                                                                                                |
|-----------|-------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id | e0c0b3cc-8238-414f-9940-9f14bd1b8693                                          | Conversation ID.                                                                                                                                                                                                                                                                           |
| userKey | 7dfb9ded-c38f-49ae-95e2-307283a0b1f6                                          | User ID on your system.                                                                                                                                                                                                                                                                    |
| url | https://sandbox.authologic.com/c/c12c1adc-3ff0-4d32-b95c-c593135c903e         | A unique web address to which the user should be redirected to verify his identity.                                                                                                                                                                                                        |
| status | FINISHED                                                                      | Conversation status: `CREATED` - ready conversation, `IN_PROGRESS` - query data being specified,  `PARTIAL` - at least one product from the query has data ready to receive or has ended, `FINISHED` - query is complete,  `CANCELED` - user aborted, `EXPIRED` - conversation expired     |
| result | -                                                                             | Structure describing the information found                                                                                                                                                                                                                                                 |
| result.identity | -                                                                             | Structure describing the result of the identity check                                                                                                                                                                                                                                      |
| result.identity.status |                                                                               | Identity validation effect: `IN_PROGRESS` - checks in progress, `FINISHED` - checks from query complete, `PARTIAL` - checks completed but only part of the data could be determined, `FAILED` - checks completed but no data could be determined.                                          |
| result.identity.user | (see example in `hints.known` from `/api/conversations`)                      | User information                                                                                                                                                                                                                                                                           |
| result.identity.errors | ["SCAN_DOCUMENT_NOT_DETECTED"]                                                | Information about the causes of errors. The content depends on the specific method of verification                                                                                                                                                                                         |
| result.identity.checks | (see examples in [additional validations documentation](../addon-checks.md).) | A list of additional validations performed on user data                                                                                                                                                                                                                                    |
| result.aml | -                                                                             | Structure describing the result of user checking on AML lists                                                                                                                                                                                                                              |
| result.aml.status |                                                                               | User checking effect. Same as the `result.identity.status` field                                                                                                                                                                                                                           |
| result.aml.found | ["PEP", "SANCTIONS", "ADVERSE_MEDIA", "SIP", "OTHER"]                         | A table informing about the AML lists on which user data was found.                                                                                                                                                                                                                        |
| result.aml.subscription | -                                                                             | Structure that informs that the AMLs to be checked are periodic                                                                                                                                                                                                                            |
| result.aml.subscription.active | true                                                                          | Structure that informs about active periodic AML checking                                                                                                                                                                                                                                  |
| result.aml.subscription.lastChanged | "2020-09-17T11:18:21.999Z"                                                    | Date when the user's information on the AMLs was last changed                                                                                                                                                                                                                              |
| result.verify | -                                                                             | Structure describing the result of comparing the data obtained from the identity verification process                                                                                                                                                                                      |
| result.verify.status |                                                                               | Identity validation effect: `IN_PROGRESS` - checks in progress, `FINISHED` - checks from query complete, `PARTIAL` - checks completed but only part of the data could be determined, `FAILED` - checks completed but no data could be determined.                                          |
| result.verify.reliability | 0.66667                                                                       | A number specifying the similarity of the data obtained from the identity check process to the data provided in the query, where `0` means different data and `1.0` means identical data. Due to the differences in the format, data recording the value can be any value between 0 and 1. |
| result.verify.details | -                                                                             | Details of the individual data comparison storing the name of the field being compared and a number indicating the similarity of the data.                                                                                                                                                 |
| result.auth | -                                                                             | Structure describing the result of user authentication                                                                                                                                                                                                                                     |
| result.auth.status |                                                                               | Authentication status: `IN_PROGRESS` - checks in progress, `FINISHED` - checks from query complete, `FAILED` - checks completed but no data could be determined.                                                                                                                            |
| result.auth.token | a7d5d522-5308-4ec9-9789-53b4ec6d47ae                                          | A unique user ID associated with a given login method. Going through the login process again with the given method will always return the same token.                                                                                                                                      |
| result.auth.challenge | 403ad98c-c5fd-4991-a365-12ec70a93932                                          | A unique equivalent of the user login associated with a given login method. Used in methods that cannot determine who is authenticating and need this information to run the process.                                                                                                      |
| result.bankTransactions | -                                                                             | Structure describing the result of downloading transactions                                                                                                                                                                                                                                |
| result.bankTransactions.status |                                                                               | Effect of downloading transactions. Same as the `result.identity.status`                                                                                                                                                                                                                   |
| info | -                                                                             | Optional information containing an array describing the data sources used in the conversation.                                                                                                                                                                                             |
| info.country | PL                                                                            | Selected/used country in ISO 3166-1 alpha-2 format                                                                                                                                                                                                                                         |
| method | PSD2                                                                          | Data source used specifying the verification method or data source used.                                                                                                                                                                                                                   |

<!-- theme: info -->
>
> Despite our sincere intentions, it is difficult to create perfect technical documentation.
> If you have an idea on how to improve this documentation, or you have trouble understanding any section,
> please email us at tech-support@authologic.com
